function setRedir(e){redir=e}function checkLogin(e,n){200==e.result&&(e.uses2FA?($("div.login_form").css("display","none"),$("div.tfa").css("display","inline")):(document.cookie=`token=${e.token}`,document.location=`${n}`)),401==e.result&&($("button.go").css("display","inline"),$("button.noacc").css("display","inline"),$("p.login_error").css("display","inline"))}function sendLoginPOST(e){let n=document.getElementById("un").value,o=document.getElementById("pw").value;""!=n&&""!=o?(username=n,$("button.go").css("display","none"),$("button.noacc").css("display","none"),$.post("/api/login",{username:n,password:o}).done(function(n){checkLogin(n,e)})):alert("Please enter your username and password.")}function send2FAPOST(e){$.post("/api/2fa/verify",{userToken:document.getElementById("code").value,username:username}).done(function(n){200==n.result?(document.cookie=`token=${n.token}`,document.location=`${e}`):$("p.error_2fa").css("display","inline")})}let username,redir;addEventListener("keydown",e=>{"Enter"==e.key&&sendLoginPOST(redir)});